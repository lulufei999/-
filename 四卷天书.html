

<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>上古四卷天书 - 择道定仙途</title>
    <style>
        /* 全局样式重置与基础设置 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "Microsoft YaHei", "SimSun", 宋体, serif;
        }
        body {
            background: url(https://picsum.photos/id/1015/1920/1080) no-repeat center center fixed;
            background-size: cover;
            background-color: #12151a;
            color: #f5e8c7;
            min-height: 100vh;
            padding: 20px 0;
            position: relative;
        }
        body::before {
            content: "";
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(18, 21, 26, 0.9);
            z-index: -1;
        }
        .container {
            width: 90%;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        /* 页面标题 */
        .page-title {
            text-align: center;
            font-size: 42px;
            font-weight: bold;
            color: #ffd700;
            text-shadow: 0 0 10px #ffd700, 0 0 20px #ff9900;
            margin-bottom: 20px;
            letter-spacing: 5px;
        }
        .sub-title {
            text-align: center;
            font-size: 20px;
            color: #d4c8a8;
            margin-bottom: 40px;
            letter-spacing: 2px;
        }
        /* 选择面板 */
        .select-panel {
            background: rgba(25, 29, 36, 0.9);
            border: 2px solid #4a3f27;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 40px;
            box-shadow: 0 0 20px rgba(255, 215, 0, 0.15);
        }
        .panel-title {
            font-size: 28px;
            color: #f0e68c;
            border-bottom: 2px solid #5c4f30;
            padding-bottom: 15px;
            margin-bottom: 25px;
            text-align: center;
            letter-spacing: 3px;
        }
        /* 选项列表 */
        .option-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
            gap: 25px;
        }
        /* 选项卡片 - 仙侠风格 */
        .option-card {
            background: rgba(38, 43, 52, 0.95);
            border: 2px solid #6b5b2f;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        .option-card:hover {
            transform: translateY(-8px);
            border-color: #ffd700;
            box-shadow: 0 0 15px rgba(255, 215, 0, 0.3);
            background: rgba(45, 51, 62, 0.95);
        }
        .option-card.active {
            border-color: #ffc107;
            background: rgba(58, 52, 32, 0.95);
            box-shadow: 0 0 20px rgba(255, 193, 7, 0.4);
        }
        .option-card.active::after {
            content: "已选";
            position: absolute;
            top: 10px;
            right: 10px;
            background: #ffd700;
            color: #12151a;
            font-size: 12px;
            padding: 3px 8px;
            border-radius: 4px;
            font-weight: bold;
            letter-spacing: 1px;
        }
        /* 仙侠图片 - 圆形适配 */
        .option-img {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 3px solid #5c4f30;
            margin: 0 auto 15px;
            object-fit: cover;
            background: #2d333e;
        }
        .option-name {
            font-size: 22px;
            color: #ffd700;
            margin-bottom: 10px;
            font-weight: bold;
            letter-spacing: 2px;
        }
        .option-desc {
            font-size: 14px;
            color: #c9c1a7;
            line-height: 1.6;
        }
        /* 结果面板 */
        .result-panel {
            background: rgba(25, 29, 36, 0.95);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 30px;
            margin-top: 20px;
            box-shadow: 0 0 25px rgba(255, 215, 0, 0.2);
        }
        .result-title {
            font-size: 26px;
            color: #ffc107;
            text-align: center;
            margin-bottom: 20px;
            letter-spacing: 3px;
        }
        .result-content {
            font-size: 18px;
            line-height: 2;
            color: #f5e8c7;
            text-align: center;
            white-space: pre-line;
            margin-bottom: 30px;
        }
        /* 功能按钮：重置、分享 */
        .btn-group {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }
        .base-btn {
            padding: 10px 25px;
            background: linear-gradient(to right, #8b4513, #ff8c00);
            color: #fff;
            font-size: 16px;
            font-weight: bold;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            letter-spacing: 1px;
        }
        .base-btn:hover {
            transform: scale(1.05);
            box-shadow: 0 0 15px rgba(255, 140, 0, 0.5);
        }
        .share-btn {
            background: linear-gradient(to right, #1e7e34, #28a745);
        }
        .wx-share {
            background: linear-gradient(to right, #00c853, #00e676);
        }
        .qq-share {
            background: linear-gradient(to right, #1296db, #42a5f5);
        }
        /* 弹窗遮罩层 */
        .modal-mask {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.85);
            z-index: 999;
            display: flex;
            align-items: center;
            justify-content: center;
            display: none;
        }
        /* 选项详情弹窗 */
        .detail-modal {
            width: 90%;
            max-width: 600px;
            background: rgba(30, 35, 42, 0.98);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 30px;
            color: #f5e8c7;
        }
        .modal-title {
            font-size: 24px;
            color: #ffc107;
            text-align: center;
            margin-bottom: 20px;
            letter-spacing: 2px;
            border-bottom: 1px solid #5c4f30;
            padding-bottom: 15px;
        }
        .modal-content {
            font-size: 16px;
            line-height: 2;
            margin-bottom: 30px;
            text-indent: 2em;
        }
        .modal-btn-group {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        .cancel-btn {
            background: linear-gradient(to right, #dc3545, #e57373);
        }
        /* 分享弹窗 */
        .share-modal {
            width: 90%;
            max-width: 400px;
            background: rgba(30, 35, 42, 0.98);
            border: 2px solid #ffd700;
            border-radius: 10px;
            padding: 30px;
            text-align: center;
        }
        .share-modal .modal-title {
            font-size: 22px;
            margin-bottom: 25px;
        }
        /* 复制成功提示弹窗 */
        .tip-modal {
            width: 280px;
            background: rgba(30, 35, 42, 0.98);
            border: 2px solid #28a745;
            border-radius: 8px;
            padding: 20px;
            text-align: center;
            color: #28a745;
            font-size: 16px;
        }
        .tip-modal i {
            font-size: 30px;
            margin-bottom: 10px;
            display: block;
        }
        /* 空状态提示 */
        .empty-tip {
            color: #888;
            font-style: italic;
        }
        /* 响应式适配 - 手机端 */
        @media (max-width: 768px) {
            .page-title {
                font-size: 30px;
                margin-bottom: 15px;
            }
            .sub-title {
                font-size: 16px;
                margin-bottom: 25px;
            }
            .panel-title {
                font-size: 22px;
            }
            .option-name {
                font-size: 18px;
            }
            .result-title {
                font-size: 22px;
            }
            .result-content {
                font-size: 16px;
            }
            .base-btn {
                padding: 8px 20px;
                font-size: 14px;
            }
            .modal-title {
                font-size: 20px;
            }
            .modal-content {
                font-size: 14px;
            }
        }
    </style>
    <!-- 引入字体图标（用于对勾、分享图标） -->
    <link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="container">
       <!-- 页面主标题 -->
        <h1 class="page-title">上古四卷天书</h1>
        <p class="sub-title">择一卷入道，踏四段修行，定一生仙途</p>

        <!-- 第一级选择：四卷天书核心选择（替换为仙侠专属图） -->
        <div class="select-panel" id="panel1">
            <h2 class="panel-title">第一重选择 · 择天书入道</h2>
            <div class="option-list" id="optionList1">
                <!-- 长生诀 - 修仙炼体仙途图 -->
                <div class="option-card" data-id="1" data-name="长生诀">
                    <img src="https://picsum.photos/id/1074/200/200" alt="长生诀" class="option-img">
                    <div class="option-name">长生诀</div>
                    <div class="option-desc">天地玄黄，寿与天齐<br>修肉身，炼仙骨，求长生不死之大道</div>
                </div>
                <!-- 天魔策 - 魔修杀伐逆天图 -->
                <div class="option-card" data-id="2" data-name="天魔策">
                    <img src="https://picsum.photos/id/1025/200/200" alt="天魔策" class="option-img">
                    <div class="option-name">天魔策</div>
                    <div class="option-desc">万魔随行，力破万法<br>修魔功，掌杀伐，走逆天证道之途</div>
                </div>
                <!-- 星河令 - 星辰御天修仙图 -->
                <div class="option-card" data-id="3" data-name="星河令">
                    <img src="https://picsum.photos/id/1048/200/200" alt="星河令" class="option-img">
                    <div class="option-name">星河令</div>
                    <div class="option-desc">星斗为棋，天道为局<br>修星术，御星辰，掌天地星河之伟力</div>
                </div>
                <!-- 大荒神陨录 - 洪荒神兽神血图 -->
                <div class="option-card" data-id="4" data-name="大荒神陨录">
                    <img src="https://picsum.photos/id/1062/200/200" alt="大荒神陨录" class="option-img">
                    <div class="option-name">大荒神陨录</div>
                    <div class="option-desc">洪荒遗韵，神血传承<br>修古法，唤神兽，承大荒诸神之遗泽</div>
                </div>
            </div>
        </div>

        <!-- 第二级选择：修行方向（随第一级选择加载） -->
        <div class="select-panel" id="panel2" style="display: none;">
            <h2 class="panel-title">第二重选择 · 定修行方向</h2>
            <div class="option-list" id="optionList2"></div>
        </div>

        <!-- 第三级选择：功法秘术（随第二级选择加载） -->
        <div class="select-panel" id="panel3" style="display: none;">
            <h2 class="panel-title">第三重选择 · 选功法秘术</h2>
            <div class="option-list" id="optionList3"></div>
        </div>

        <!-- 新增：第四重选择 - 剧情走向（随第三级选择加载，替换原第四级仙途选择） -->
        <div class="select-panel" id="panel4" style="display: none;">
            <h2 class="panel-title">第四重选择 · 择剧情走向</h2>
            <div class="option-list" id="optionList4"></div>
        </div>

        <!-- 选择结果展示 -->
        <div class="result-panel" id="resultPanel" style="display: none;">
            <h2 class="result-title">你的仙途修行之路</h2>
            <div class="result-content" id="resultContent"></div>
            <!-- 新增分享+重置按钮组 -->
            <div class="btn-group">
                <button class="base-btn share-btn" id="shareBtn"><i class="fas fa-share-alt"></i> 分享仙途</button>
                <button class="base-btn" id="resetBtn"><i class="fas fa-refresh"></i> 重新择道</button>
            </div>
        </div>
    </div>

    <!-- 1. 选项详情弹窗（遮罩+内容） -->
    <div class="modal-mask" id="detailMask">
        <div class="detail-modal" id="detailModal">
            <h3 class="modal-title" id="modalTitle">选项名称</h3>
            <div class="modal-content" id="modalContent">选项详细说明</div>
            <div class="modal-btn-group">
                <button class="base-btn cancel-btn" id="cancelBtn">取消</button>
                <button class="base-btn" id="confirmBtn">确认选择</button>
            </div>
        </div>
    </div>

    <!-- 2. 分享弹窗 -->
    <div class="modal-mask" id="shareMask">
        <div class="share-modal" id="shareModal">
            <h3 class="modal-title"><i class="fas fa-star"></i> 分享你的无上仙途</h3>
            <div class="btn-group">
                <button class="base-btn" id="copyLinkBtn"><i class="fas fa-link"></i> 复制链接</button>
                <button class="base-btn wx-share" id="wxShareBtn"><i class="fas fa-weixin"></i> 微信分享</button>
                <button class="base-btn qq-share" id="qqShareBtn"><i class="fas fa-qq"></i> QQ分享</button>
            </div>
        </div>
    </div>

    <!-- 3. 复制成功提示弹窗 -->
    <div class="modal-mask" id="tipMask">
        <div class="tip-modal" id="tipModal">
            <i class="fas fa-check-circle"></i>
            <div>复制成功！仙途链接已保存</div>
        </div>
    </div>

    <script>
        // 四卷天书四级选择数据 - 新增剧情走向（level5），绑定对应最终仙途
        const bookData = {
            // 长生诀
            长生诀: {
                level2: [
                    {id: 11, name: "炼体流", desc: "锻筋炼骨，肉身成圣<br>以力证道，无坚不摧", detail: "炼体流为长生诀最刚猛的修行方向，摒弃旁门左道，以纯肉身之力破道，从锻皮、炼骨、洗髓到淬魂，层层打磨，最终成就肉身成圣之境，纵使无仙器加持，亦能以肉拳撼天，刀枪不入，水火不侵，是长生诀中最考验心性与毅力的一脉。"},
                    {id: 12, name: "养生流", desc: "吐纳养气，调和阴阳<br>润物无声，寿元绵长", detail: "养生流为长生诀的本源一脉，顺天地阴阳之理，采日月星辰之精，吐纳养气，调和五脏六腑，不求一时之力，只求生生不息，寿元绵长。此脉修行如春雨润物，看似缓慢，却能根基稳固，最终达到与天地同寿，超脱轮回之境，适合喜静、悟心之辈。"},
                    {id: 13, name: "丹道流", desc: "炼制仙丹，借丹成道<br>吞服灵丹，一日千里", detail: "丹道流为长生诀最便捷的修行方向，以天地灵材为基，炼制各类仙丹，借丹药之力洗髓伐脉、提升修为、延长寿元，甚至能直接借仙丹突破境界，一日千里。此脉需精通丹术、辨识灵材，虽修行快速，却需有足够的机缘与资源支撑，是长生诀中最依赖天份与机缘的一脉。"}
                ],
                level3: {
                    炼体流: [
                        {id: 111, name: "九转金身诀", desc: "九转炼体，金身不灭<br>刀枪不入，水火不侵", detail: "九转金身诀为炼体流第一秘术，共分九转，每转皆需以天雷、地火、寒泉等天地极境淬炼肉身，九转功成后，肉身成金身，不灭不朽，刀枪不入，水火不侵，纵使面对仙魔之力，亦能以肉身硬抗，是炼体流最霸道的功法。",
                        // 新增：剧情走向（3个剧情，每个剧情绑定对应最终仙途）
                        level5: [
                            {id: 1111, name: "征战洪荒", desc: "携金身之力，征战洪荒凶兽<br>护佑苍生，立不世之功", detail: "你修九转金身诀至小成，恰逢洪荒凶兽乱世，生灵涂炭，你毅然携金身之力出征，斩杀凶兽首领，护佑一方苍生，立下不世之功，天地感念你的功德，赐你战神之位，自此征战诸天，所向披靡。", correspondingLevel4: "洪荒战神"},
                            {id: 1112, name: "闭关证道", desc: "隐于仙山，闭关打磨金身<br>不问世事，只求肉身成圣", detail: "你修九转金身诀后，不恋红尘纷争，隐于昆仑仙山深处，闭关千年，历经九次天雷淬体，终成九转金身，肉身成圣，被天地册封为肉身仙王，统御天下炼体修士，掌世间肉身大道。", correspondingLevel4: "肉身仙王"},
                            {id: 1113, name: "逍遥天地", desc: "不恋仙位，漫游诸天万界<br>随性而为，成就不朽金刚", detail: "你修九转金身诀至大成，肉身金刚不坏，却不慕仙位权柄，选择漫游诸天万界，随性而为，救苦救难却不留名，最终超脱轮回，成为不朽金刚，永世长存于天地之间，不沾因果，不涉纷争。", correspondingLevel4: "不朽金刚"}
                        ]},
                        {id: 112, name: "盘古开天身", desc: "模拟盘古，开天辟地<br>肉身之力，撼天动地", detail: "盘古开天身为炼体流传承秘术，以盘古开天辟地之意志炼体，引盘古残魂之力融入肉身，修至大成，可模拟盘古之姿，拥有开天辟地的肉身之力，一拳可碎星辰，一脚可踏洪荒，是炼体流最具爆发力的功法。",
                        level5: [
                            {id: 1121, name: "开天辟地", desc: "借盘古之力，重定天地秩序<br>功成身退，封开天圣尊", detail: "你修盘古开天身至巅峰，恰逢天地秩序紊乱，你借盘古开天之力，重定天地法则，功成身退，被天地尊为开天圣尊，虽不掌权柄，却受万仙敬仰，成为炼体流的精神领袖。", correspondingLevel4: "开天圣尊"},
                            {id: 1122, name: "镇守洪荒", desc: "驻守洪荒边界，抵御域外邪魔<br>以身护道，成洪荒守护神", detail: "你修盘古开天身大成后，主动驻守洪荒边界，抵御域外邪魔入侵，以身护道，千万年来从未后退一步，最终成为洪荒守护神，肉身可硬抗域外魔主一击，守护洪荒万代安宁。", correspondingLevel4: "洪荒守护神"},
                            {id: 1123, name: "传承古法", desc: "广收弟子，传承盘古古法<br>培育后辈，成炼体宗师", detail: "你修盘古开天身有成后，广收弟子，挑选有毅力之辈，传承盘古开天古法，培育出无数炼体强者，最终成为炼体宗师，虽无仙王名号，却影响了一代又一代炼体修士。", correspondingLevel4: "炼体宗师"}
                        ]},
                        {id: 113, name: "玄武不灭体", desc: "承玄武之灵，水之厚土<br>防御无双，生生不息", detail: "玄武不灭体为炼体流防御第一秘术，承北方玄武神兽之灵，融水之柔、土之厚于肉身，修至大成，肉身拥有玄武之不灭特性，防御无双，且能生生不息，纵使肉身受损，亦能快速恢复，是炼体流最持久的功法。",
                        level5: [
                            {id: 1131, name: "守护仙门", desc: "驻守仙门山门，抵御外敌入侵<br>以不灭之体，护仙门万代", detail: "你修玄武不灭体大成后，回到师门，驻守山门，凭借不灭之体，抵御无数仙魔外敌入侵，守护仙门万代安宁，成为仙门的定海神针，被尊为山门护法天尊。", correspondingLevel4: "护法天尊"},
                            {id: 1132, name: "救死扶伤", desc: "借玄武生机之力，救死扶伤<br>泽被苍生，成生机仙尊", detail: "你修玄武不灭体后，领悟生机之道，借玄武生机之力，游走诸天，救死扶伤，活死人肉白骨，泽被苍生，被天地册封为生机仙尊，掌世间生机法则，可随意延续生灵寿元。", correspondingLevel4: "生机仙尊"},
                            {id: 1133, name: "隐于深海", desc: "随玄武隐居深海，修炼生机之道<br>与世无争，成玄武仙友", detail: "你修玄武不灭体后，与玄武神兽结为仙友，随其隐居深海仙府，潜心修炼生机之道，与世无争，最终与玄武同寿，成为深海仙尊，掌管四海生机，不涉红尘纷争。", correspondingLevel4: "深海仙尊"}
                        ]}
                    ],
                    养生流: [
                        {id: 121, name: "太上养生经", desc: "太上道统，养气归元<br>心平气和，寿与天齐", detail: "太上养生经为养生流本源功法，传自太上道祖，以养气归元为核心，心平气和为根基，采天地灵气，归自身气海，修至大成，可气海无边，生生不息，寿元与天地同齐，是养生流最正宗的功法。",
                        level5: [
                            {id: 1211, name: "传道天下", desc: "广传养生之道，泽被万民<br>教化世人，成太上仙尊", detail: "你修太上养生经大成后，游走天下，广传养生之道，教化世人，让无数凡人摆脱病痛，延长寿元，天地感念你的功德，封你为太上仙尊，承太上道统，掌世间养生大道。", correspondingLevel4: "太上仙尊"},
                            {id: 1212, name: "隐居悟道", desc: "隐于终南山，潜心悟道<br>悟透长生，成长寿仙帝", detail: "你修太上养生经后，隐于终南山仙府，潜心悟道，不恋红尘，最终悟透长生之道，寿元无尽，突破至仙帝之境，统御仙界，掌世间寿元法则，可随意增减他人寿元。", correspondingLevel4: "长寿仙帝"},
                            {id: 1213, name: "云游四方", desc: "不恋仙位，云游四方<br>随性而为，成天地散人", detail: "你修太上养生经至极致，不羡仙位，不慕权柄，做一逍遥天地散人，云游四方，采天地灵气，赏世间美景，无拘无束，不沾因果，超脱一切纷争，寿元绵长，逍遥自在。", correspondingLevel4: "天地散人"}
                        ]},
                        {id: 122, name: "神农百草诀", desc: "识百草，调五行<br>以药养身，百病不生", detail: "神农百草诀为养生流辅助功法，传自神农氏，精通天下百草之性，以百草调自身五行，养身健体，百病不生，甚至能以百草续命，是养生流中最适合行走天下，采集灵材的功法。",
                        level5: [
                            {id: 1221, name: "尝遍百草", desc: "踏遍名山大川，尝遍天下百草<br>著书立说，成百草仙圣", detail: "你修神农百草诀后，踏遍天下名山大川，尝遍天下百草，记录百草药性，著成《百草仙经》，惠及后世无数修士与凡人，最终成为百草仙圣，掌世间百草之道，可御使百草救死扶伤。", correspondingLevel4: "百草仙圣"},
                            {id: 1222, name: "开设仙医馆", desc: "在仙界开设仙医馆，救死扶伤<br>医者仁心，成仙医天尊", detail: "你修神农百草诀大成后，在仙界开设仙医馆，不问身份，救死扶伤，无论是仙是魔，只要心怀善意，皆可得到你的救治，最终成为仙医天尊，掌世间医道法则，被万仙敬仰。", correspondingLevel4: "仙医天尊"},
                            {id: 1223, name: "培育灵草", desc: "隐于仙山，培育上古灵草<br>滋养万物，成灵草仙翁", detail: "你修神农百草诀后，隐于仙山，开辟灵草园，培育上古灵草，滋养万物，灵草之力惠及四方，无数修士前来求药，你皆慷慨相赠，最终成为灵草仙翁，掌管世间灵草生长法则。", correspondingLevel4: "灵草仙翁"}
                        ]},
                        {id: 123, name: "北冥吐纳法", desc: "吸天地灵气，纳百川之流<br>气海无边，生生不息", detail: "北冥吐纳法为养生流快速养气功法，能吸天地间所有灵气，纳百川之流于自身气海，气海容量会随修为不断扩大，生生不息，修至大成，可一念吸尽一方天地的灵气，是养生流中最具成长性的功法。",
                        level5: [
                            {id: 1231, name: "滋养天地", desc: "借气海之力，滋养一方天地<br>功德无量，成灵气仙帝", detail: "你修北冥吐纳法大成后，气海无边，可吸尽天地灵气，亦能释放灵气，滋养一方天地，让贫瘠之地变成仙山宝地，功德无量，最终突破至仙帝之境，掌世间灵气法则，成灵气仙帝。", correspondingLevel4: "灵气仙帝"},
                            {id: 1232, name: "守护灵脉", desc: "驻守天地灵脉，守护灵气之源<br>以身护脉，成灵脉守护神", detail: "你修北冥吐纳法后，主动驻守天地灵脉，抵御那些妄图破坏灵脉的邪魔外道，以身护脉，守护天地灵气之源，最终成为灵脉守护神，与灵脉共存，永世守护天地灵气。", correspondingLevel4: "灵脉守护神"},
                            {id: 1233, name: "随性修炼", desc: "不涉纷争，随性吐纳修炼<br>灵气护体，成逍遥仙翁", detail: "你修北冥吐纳法后，不涉任何纷争，随性而为，走到哪里，便在哪里吐纳修炼，灵气护体，百病不侵，寿元绵长，最终成为逍遥仙翁，漫游诸天，无拘无束。", correspondingLevel4: "逍遥仙翁"}
                        ]}
                    ],
                    丹道流: [
                        {id: 131, name: "九转还魂丹经", desc: "炼续命仙丹，活死人肉白骨", detail: "九转还魂丹经为丹道流续命第一丹经，能炼制九转还魂丹等无上续命仙丹，可活死人、肉白骨，逆天改命，延长寿元，此丹经不仅能炼己，更能炼丹救人，是丹道流中最具功德的丹经。",
                        level5: [
                            {id: 1311, name: "救死扶伤", desc: "炼制还魂仙丹，救度乱世生灵<br>功德昭昭，成还魂丹帝", detail: "你修九转还魂丹经大成后，恰逢乱世，生灵涂炭，你炼制无数还魂仙丹，救度无数生灵，活死人肉白骨，功德昭昭，天地感念你的功德，封你为还魂丹帝，掌世间还魂之术，被万仙敬仰。", correspondingLevel4: "还魂丹帝"},
                            {id: 1312, name: "逆天改命", desc: "为救至亲，炼制九转还魂丹<br>逆天改命，成续命仙尊", detail: "你修九转还魂丹经后，至亲遭遇横祸，魂飞魄散，你不惜耗尽修为，炼制九转还魂丹，逆天改命，救活至亲，虽损耗自身修为，却悟透续命之道，最终成为续命仙尊，掌世间续命大道。", correspondingLevel4: "续命仙尊"},
                            {id: 1313, name: "传承丹术", desc: "广收弟子，传承还魂丹术<br>培育丹才，成丹道圣人", detail: "你修九转还魂丹经大成后，广收弟子，挑选有丹道天赋之辈，传承九转还魂丹术，培育出无数丹道强者，让还魂丹术得以延续，最终悟透生死之道，成就丹药圣人之位，掌世间生死。", correspondingLevel4: "生死丹圣"}
                        ]},
                        {id: 132, name: "太上老君丹方", desc: "道祖传承，仙丹无数<br>服之即可立地成仙", detail: "太上老君丹方为丹道流至尊丹方，传自太上道祖，收录了金丹、仙丹、仙元丹等无数无上仙丹的炼制方法，服之可直接立地成仙，突破境界，是丹道流中最珍贵的丹方，需有足够的道心才能领悟。",
                        level5: [
                            {id: 1321, name: "炼制仙丹", desc: "炼制无上仙丹，助万民成仙<br>泽被众生，成仙丹仙帝", detail: "你修太上老君丹方大成后，炼制无数无上仙丹，普惠众生，让无数有仙缘之人得以立地成仙，泽被众生，最终突破至仙帝之境，掌世间仙丹法则，成仙丹仙帝。", correspondingLevel4: "仙丹仙帝"},
                            {id: 1322, name: "辅佐道祖", desc: "前往太上老君仙府，辅佐道祖<br>丹术通天，成丹道仙尊", detail: "你修太上老君丹方后，道心坚定，被太上老君看中，前往仙府辅佐道祖，炼制仙丹，丹术日益精进，最终成为丹道仙尊，统御天下丹道修士，掌世间丹道法则。", correspondingLevel4: "丹道仙尊"},
                            {id: 1323, name: "隐居炼丹", desc: "隐于仙山，潜心炼制仙丹<br>不问世事，成炼丹仙翁", detail: "你修太上老君丹方大成后，不恋仙位权柄，隐于仙山深处，潜心炼制仙丹，不问世事，炼制出无数绝世仙丹，虽不涉红尘，却被万仙敬仰，成为炼丹仙翁。", correspondingLevel4: "炼丹仙翁"}
                        ]},
                        {id: 133, name: "混沌造化丹经", desc: "以混沌之气，炼造化之丹<br>逆天改命，重塑根骨", detail: "混沌造化丹经为丹道流最逆天的丹经，需以混沌之气为引，炼制造化仙丹，可逆天改命，重塑根骨，让废柴变天纵奇才，甚至能炼出造化道体，是丹道流中最考验天赋与机缘的丹经。",
                        level5: [
                            {id: 1331, name: "重塑根骨", desc: "炼制造化仙丹，为凡人重塑根骨<br>功德无量，成造化丹帝", detail: "你修混沌造化丹经大成后，炼制无数造化仙丹，为那些根骨平庸的凡人重塑根骨，让他们拥有修仙资质，功德无量，最终成为造化丹帝，掌世间造化之道，可重塑万物根骨。", correspondingLevel4: "造化丹帝"},
                            {id: 1332, name: "逆天证道", desc: "为自己炼制造化仙丹，重塑道体<br>逆天证道，成造化仙帝", detail: "你修混沌造化丹经后，为突破自身桎梏，炼制造化仙丹，重塑自身道体，炼出混沌造化道体，逆天证道，最终突破至仙帝之境，掌世间造化法则，成造化仙帝。", correspondingLevel4: "造化仙帝"},
                            {id: 1333, name: "守护混沌", desc: "前往混沌之地，守护造化之气<br>以身护道，成混沌丹尊", detail: "你修混沌造化丹经后，领悟混沌之道，主动前往混沌之地，守护造化之气，抵御邪魔外道抢夺，以身护道，最终成为混沌丹尊，掌世间混沌造化之道，与混沌共存。", correspondingLevel4: "混沌丹尊"}
                        ]}
                    ]
                },
                // 保留level4，用于存储剧情绑定的最终仙途（无需手动选择）
                level4: {}
            },
            // 天魔策（结构与长生诀一致，新增剧情绑定仙途）
            天魔策: {
                level2: [
                    {id: 21, name: "杀伐流", desc: "以杀证道，血染九天<br>杀念滔天，万神皆惧", detail: "杀伐流为天魔策的核心一脉，以杀证道，杀念滔天，血染九天，从斩妖、屠魔、弑神到灭仙，层层积累杀伐之力，最终成就杀伐魔帝之境，万神皆惧，是天魔策中最霸道、最直接的修行方向。"},
                    {id: 22, name: "噬魂流", desc: "吞噬神魂，炼化为力<br>神魂不灭，我即永生", detail: "噬魂流为天魔策最阴诡的修行方向，以吞噬他人神魂为基，将神魂之力炼化为自身修为，神魂越强，力量越强，只要神魂不灭，便可永生不死，是天魔策中最考验心机与手段的一脉。"},
                    {id: 23, name: "炼魔流", desc: "炼化万魔，融于自身<br>万魔归一，魔功大成", detail: "炼魔流为天魔策最本源的修行方向，炼化天下万魔之魂，融于自身，万魔归一，魔功大成，身具万魔之力，可号令天下魔族，是天魔策中最具统御力的一脉。"}
                ],
                level3: {
                    杀伐流: [
                        {id: 211, name: "九天弑神诀", desc: "弑神杀佛，九天皆颤<br>杀伐之力，冠绝诸天", detail: "九天弑神诀为杀伐流第一秘术，专克神佛，修之可弑神杀佛，九天皆颤，杀伐之力冠绝诸天，每杀一尊神佛，杀伐之力便会暴涨，是杀伐流中最具破坏性的功法。",
                        level5: [
                            {id: 2111, name: "弑神伐仙", desc: "率魔族大军，弑神伐仙<br>血染九天，成弑神魔皇", detail: "你修九天弑神诀大成后，率魔族大军，踏平仙界神殿，弑神伐仙，血染九天，万神皆惧，被魔族尊为弑神魔皇，统御天下万魔，掌世间杀伐之力，所向披靡。", correspondingLevel4: "弑神魔皇"},
                            {id: 2112, name: "独闯仙界", desc: "孤身一人，独闯仙界禁地<br>斩杀仙帝，成杀伐魔帝", detail: "你修九天弑神诀至巅峰，不恋族群，孤身一人独闯仙界禁地，斩杀仙界仙帝，打破仙界秩序，最终成为杀伐魔帝，掌世间杀伐法则，万神万魔都要俯首称臣。", correspondingLevel4: "杀伐魔帝"},
                            {id: 2113, name: "随性杀伐", desc: "不恋权柄，随性弑杀作恶<br>杀伐无边，成九天魔主", detail: "你修九天弑神诀至极致，不慕魔皇位子，随性而为，走到哪里，便杀到哪里，杀伐无边，无人可挡，最终成为九天魔主，统御九天魔界，唯我独尊。", correspondingLevel4: "九天魔主"}
                        ]},
                        {id: 212, name: "血海魔功", desc: "以血为海，以杀为浪<br>血海无边，杀伐无尽", detail: "血海魔功为杀伐流传承秘术，以自身鲜血为引，凝聚无尽血海，以杀为浪，血海所至，生灵涂炭，杀伐之力无尽无休，修至大成，血海可吞噬一方天地，是杀伐流中最具威慑力的功法。",
                        level5: [
                            {id: 2121, name: "血海吞天", desc: "凝聚无尽血海，吞噬一方天地<br>力量暴涨，成血海魔皇", detail: "你修血海魔功大成后，凝聚无尽血海，吞噬仙界一方天地，生灵涂炭，力量暴涨，被魔族尊为血海魔皇，掌血海之力，可吞噬万物，化为自身修为。", correspondingLevel4: "血海魔皇"},
                            {id: 2122, name: "复仇伐道", desc: "为报血海深仇，伐尽仇人<br>仇怨得报，成复仇魔帝", detail: "你修血海魔功的初衷是为报血海深仇，功成后，你踏遍诸天，伐尽所有仇人，仇怨得报，却也悟透杀伐之道，最终成为复仇魔帝，掌世间仇怨法则，威慑诸天。", correspondingLevel4: "复仇魔帝"},
                            {id: 2123, name: "守护魔族", desc: "以血海之力，守护魔族领地<br>抵御仙界，成魔族守护神", detail: "你修血海魔功大成后，放弃对外征伐，以血海之力守护魔族领地，抵御仙界入侵，成为魔族守护神，血海所至，仙界大军寸步难行，守护魔族万代安宁。", correspondingLevel4: "魔族守护神"}
                        ]},
                        {id: 213, name: "斩仙飞刀诀", desc: "一刀斩仙，二刀斩神<br>飞刀出，万物皆灭", detail: "斩仙飞刀诀为杀伐流最快意的功法，炼就斩仙飞刀，一刀斩仙，二刀斩神，三刀斩魔，飞刀出，万物皆灭，无需近身搏斗，便可取人首级于千里之外，是杀伐流中最具杀伤力的功法。",
                        level5: [
                            {id: 2131, name: "飞刀弑帝", desc: "炼就九转斩仙飞刀，斩杀仙界仙帝<br>一战成名，成飞刀魔皇", detail: "你修斩仙飞刀诀大成后，炼就九转斩仙飞刀，孤身一人前往仙界，一刀斩杀仙帝，一战成名，被魔族尊为飞刀魔皇，掌斩仙飞刀之力，无人可挡。", correspondingLevel4: "飞刀魔皇"},
                            {id: 2132, name: "游历诸天", desc: "携斩仙飞刀，游历诸天万界<br>快意恩仇，成飞刀魔帝", detail: "你修斩仙飞刀诀至巅峰，携斩仙飞刀，游历诸天万界，快意恩仇，斩杀所有招惹你的人，无论是仙是魔，最终成为飞刀魔帝，掌世间飞刀之道，威慑诸天。", correspondingLevel4: "飞刀魔帝"},
                            {id: 2133, name: "传承飞刀术", desc: "广收魔族弟子，传承斩仙飞刀术<br>培育强者，成飞刀魔尊", detail: "你修斩仙飞刀诀大成后，广收魔族弟子，传承斩仙飞刀术，培育出无数飞刀强者，让斩仙飞刀术得以延续，最终成为飞刀魔尊，统御天下飞刀修士，掌飞刀法则。", correspondingLevel4: "飞刀魔尊"}
                        ]}
                    ],
                    噬魂流: [
                        {id: 221, name: "万魂噬心诀", desc: "吞噬万魂，炼化为心<br>心藏万魂，力量无穷", detail: "万魂噬心诀为噬魂流第一秘术，吞噬万魂炼化为自身魔心，心藏万魂，力量无穷，魔心越强，可吞噬的神魂越多，甚至能吞噬神佛之魂，是噬魂流中最霸道的功法。",
                        level5: [
                            {id: 2211, name: "吞噬神佛魂", desc: "潜入仙界佛界，吞噬神佛之魂<br>魔心大成，成万魂魔皇", detail: "你修万魂噬心诀大成后，潜入仙界佛界，吞噬无数神佛之魂，魔心大成，力量暴涨，被魔族尊为万魂魔皇，掌万魂之力，可操控天下神魂，无人能挡。", correspondingLevel4: "万魂魔皇"},
                            {id: 2212, name: "操控神魂", desc: "以万魂之力，操控诸天神魂<br>统御三界，成噬魂魔帝", detail: "你修万魂噬心诀至巅峰，可操控诸天神魂，无论是仙魂、魔魂还是凡魂，皆能为你所用，统御三界，成为噬魂魔帝，掌世间神魂法则，威慑诸天万界。", correspondingLevel4: "噬魂魔帝"},
                            {id: 2213, name: "隐于暗处", desc: "隐于暗处，吞噬神魂修炼<br>无人知晓，成暗影魔主", detail: "你修万魂噬心诀后，不喜张扬，隐于诸天暗处，默默吞噬神魂修炼，无人知晓你的存在，却能在暗中操控一切，最终成为暗影魔主，掌世间暗影与神魂之道，无人敢轻易招惹。", correspondingLevel4: "暗影魔主"}
                        ]},
                        {id: 222, name: "噬魂夺舍诀", desc: "吞噬神魂，夺舍重生<br>万劫不灭，轮回不死", detail: "噬魂夺舍诀为噬魂流最阴诡的功法，不仅能吞噬他人神魂炼化为自身力量，更能在自身肉身损毁时，夺舍他人肉身重生，万劫不灭，轮回不死，是噬魂流中最能保命的功法。",
                        level5: [
                            {id: 2221, name: "夺舍仙帝身", desc: "趁仙界仙帝重伤，夺舍其肉身", detail: "你修噬魂夺舍诀大成后，暗中潜伏，趁仙界仙帝渡天劫重伤之际，果断出手吞噬其神魂，夺舍其仙帝肉身，自此鱼目混珠，掌控仙界部分权柄，最终成为双面魔帝，游走于仙魔两界，无人能识。", correspondingLevel4: "双面魔帝"},
                            {id: 2222, name: "轮回夺舍", desc: "肉身损毁后，轮回夺舍，积累力量", detail: "你修噬魂夺舍诀后，在一次仙魔大战中肉身损毁，凭借夺舍之术轮回重生，多次夺舍天赋异禀之辈，积累无尽力量，最终突破桎梏，成为轮回魔帝，掌世间轮回夺舍之道，万劫不灭。", correspondingLevel4: "轮回魔帝"},
                            {id: 2223, name: "噬魂保命", desc: "不主动惹事，以噬魂之力保命修炼", detail: "你修噬魂夺舍诀后，心性谨慎，不主动招惹仙魔强者，仅在遭遇危险时吞噬神魂保命、默默修炼，最终成为保命魔尊，虽无滔天权势，却能在诸天纷争中安然无恙，万劫不死。", correspondingLevel4: "保命魔尊"}
                        ]},
                        {id: 223, name: "神魂炼魔诀", desc: "炼化神魂，炼就魔魂", detail: "神魂炼魔诀为噬魂流本源功法，将吞噬的神魂炼化，融入自身魔魂，炼就不灭魔魂，魔魂越强，肉身强度与修为也会同步提升，修至大成，魔魂可脱离肉身独立存在，是噬魂流中最根基深厚的功法。",
                        level5: [
                            {id: 2231, name: "炼就不灭魔魂", desc: "吞噬亿万神魂，炼就不灭魔魂", detail: "你修神魂炼魔诀大成后，耗时千年，吞噬亿万神魂，炼就真正的不灭魔魂，无惧任何神魂攻击，被魔族尊为魔魂皇，掌不灭魔魂之力，可随意穿梭诸天，不受肉身束缚。", correspondingLevel4: "魔魂皇"},
                            {id: 2232, name: "魔魂战仙魂", desc: "携不灭魔魂，与仙界仙魂大战", detail: "你修神魂炼魔诀至巅峰，携不灭魔魂，主动挑战仙界仙魂强者，历经千战不败，打破仙魂压制魔魂的桎梏，最终成为魔魂帝，掌世间魔魂法则，让魔魂不再受仙魂欺凌。", correspondingLevel4: "魔魂帝"},
                            {id: 2233, name: "守护魔魂", desc: "以不灭魔魂，守护魔族幼魂", detail: "你修神魂炼魔诀后，心生善念（魔之善念），以不灭魔魂守护魔族幼魂，抵御仙佛强者的迫害，成为魔族幼魂的守护神，被魔族后辈敬仰，最终成为护魂魔尊，掌世间护魂之道。", correspondingLevel4: "护魂魔尊"}
                        ]}
                    ],
                    炼魔流: [
                        {id: 231, name: "万魔归宗诀", desc: "号令万魔，归宗于我", detail: "万魔归宗诀为炼魔流第一秘术，可号令天下万魔，让万魔归宗于自身，融万魔之力于一体，修至大成，可化身为万魔之主，身具万魔特性，力量无穷，是炼魔流中最具统御力的功法。",
                        level5: [
                            {id: 2311, name: "统御万魔", desc: "号令诸天万魔，组建魔军", detail: "你修万魔归宗诀大成后，号令诸天万魔，组建起一支无敌魔军，踏平仙界边缘城池，统御天下魔族，被尊为万魔皇，掌万魔号令之力，万魔皆听你差遣。", correspondingLevel4: "万魔皇"},
                            {id: 2312, name: "万魔合一", desc: "融万魔之力于自身，化身为魔主", detail: "你修万魔归宗诀至巅峰，将收服的万魔之力全部融入自身，化身为真正的万魔之主，力量远超普通魔帝，可与仙界仙帝分庭抗礼，最终成为万魔帝，掌世间万魔法则，威慑诸天。", correspondingLevel4: "万魔帝"},
                            {id: 2313, name: "魔族共治", desc: "与各大魔尊重组魔族秩序，共治魔族", detail: "你修万魔归宗诀大成后，不恋独权，与各大魔尊重组魔族秩序，共治魔族，让魔族摆脱内乱，日益强盛，最终成为魔族共主，受所有魔族尊重，掌魔族秩序法则。", correspondingLevel4: "魔族共主"}
                        ]},
                        {id: 232, name: "混沌魔体诀", desc: "炼混沌魔体，融万魔之魂", detail: "混沌魔体诀为炼魔流最逆天的功法，以混沌之气为引，炼就混沌魔体，融万魔之魂于魔体之中，魔体强度与力量同步提升，修至大成，混沌魔体可硬抗仙帝一击，是炼魔流中最具爆发力的功法。",
                        level5: [
                            {id: 2321, name: "混沌魔体战仙帝", desc: "炼就混沌魔体，正面硬抗仙帝", detail: "你修混沌魔体诀大成后，炼就完美混沌魔体，孤身一人前往仙界，正面硬抗仙帝攻击，不落下风，一战成名，被魔族尊为混沌魔皇，掌混沌魔体之力，无人可挡。", correspondingLevel4: "混沌魔皇"},
                            {id: 2322, name: "吞噬混沌之气", desc: "前往混沌之地，吞噬混沌之气", detail: "你修混沌魔体诀后，为突破境界，前往混沌之地，吞噬无尽混沌之气，混沌魔体日益完善，最终突破至魔帝之境，成为混沌魔帝，掌世间混沌魔之道，与混沌共存。", correspondingLevel4: "混沌魔帝"},
                            {id: 2323, name: "守护混沌之门", desc: "驻守混沌之门，抵御外敌入侵", detail: "你修混沌魔体诀大成后，主动驻守混沌之门，抵御那些妄图抢夺混沌之气的仙魔强者，以身护道，最终成为混沌守门魔尊，掌混沌之门的开启与关闭，守护混沌之地的安宁。", correspondingLevel4: "混沌守门魔尊"}
                        ]},
                        {id: 233, name: "魔祖炼魔诀", desc: "承魔祖传承，炼魔之根本", detail: "魔祖炼魔诀为炼魔流本源功法，传自魔祖，炼魔之根本，不追求速成，层层打磨魔体与魔魂，修至大成，可继承魔祖部分力量，号令万魔，是炼魔流中最正统、最稳妥的功法。",
                        level5: [
                            {id: 2331, name: "继承魔祖之力", desc: "修至大成，继承魔祖部分力量", detail: "你修魔祖炼魔诀大成后，得到魔祖认可，继承魔祖部分力量，成为魔祖继承人，统御天下魔族，继续壮大魔族势力，最终成为魔祖帝，掌魔祖之道，受万魔敬仰。", correspondingLevel4: "魔祖帝"},
                            {id: 2332, name: "传承魔祖炼魔诀", desc: "广收弟子，传承魔祖炼魔诀", detail: "你修魔祖炼魔诀大成后，广收魔族弟子，挑选有资质、有道心之辈，传承魔祖炼魔诀，培育出无数炼魔强者，让魔祖之道得以延续，最终成为炼魔宗师，掌炼魔法则，统御天下炼魔修士。", correspondingLevel4: "炼魔宗师"},
                            {id: 2333, name: "隐居炼魔", desc: "隐于魔界深处，潜心修炼魔祖之道", detail: "你修魔祖炼魔诀后，不恋权柄，隐于魔界深处，潜心修炼魔祖之道，不问魔族纷争，最终修至魔帝之境，成为隐世魔尊，虽不掌权，却拥有撼动诸天的力量。", correspondingLevel4: "隐世魔尊"}
                        ]}
                    ]
                },
                level4: {}
            },
            // 星河令（完整补充，结构与长生诀、天魔策一致，含剧情绑定仙途）
            星河令: {
                level2: [
                    {id: 31, name: "御星流", desc: "御使星辰，引星之力", detail: "御星流为星河令核心一脉，可御使诸天星辰，引星辰之力为自身所用，星辰之力越强，修为越高，修至大成，可御使星辰砸落，毁天灭地，是星河令中最具爆发力的修行方向。"},
                    {id: 32, name: "星算流", desc: "星象推演，预知祸福", detail: "星算流为星河令最神秘的一脉，通过观测星象，推演天道运势，预知祸福吉凶，甚至能逆天改命，修改他人运势，是星河令中最考验悟性与天赋的修行方向。"},
                    {id: 33, name: "星魂流", desc: "融星魂于自身，与星同存", detail: "星魂流为星河令最持久的一脉，将诸天星辰之魂融入自身神魂，与星辰同存，寿元绵长，星魂越强，神魂与肉身强度同步提升，修至大成，可与星辰共生，永世不灭，是星河令中最根基深厚的修行方向。"}
                ],
                level3: {
                    御星流: [
                        {id: 311, name: "星辰御天诀", desc: "御天星辰，执掌星权", detail: "星辰御天诀为御星流第一秘术，可御使诸天星辰，执掌星辰权柄，引星辰之力凝聚星刃、星盾，修至大成，可召唤星辰砸落，毁天灭地，是御星流中最具统御力的功法。",
                        level5: [
                            {id: 3111, name: "召唤星辰砸落", desc: "引诸天星辰之力，砸落仙界魔界", detail: "你修星辰御天诀大成后，可引诸天星辰之力，召唤星辰砸落，无论是仙界城池还是魔界领地，皆能一击摧毁，威慑诸天，被尊为星辰皇，掌星辰召唤之力，万仙万魔都要俯首。", correspondingLevel4: "星辰皇"},
                            {id: 3112, name: "执掌星权", desc: "执掌诸天星辰权柄，调节星象", detail: "你修星辰御天诀至巅峰，执掌诸天星辰权柄，可随意调节星象，修改星辰轨迹，维护天地星象秩序，最终成为星辰帝，掌世间星辰法则，统御诸天星辰。", correspondingLevel4: "星辰帝"},
                            {id: 3113, name: "御星游历", desc: "御使星辰，游历诸天万界", detail: "你修星辰御天诀大成后，不恋权柄，御使星辰，游历诸天万界，赏星辰美景，遇强则战，遇弱则护，最终成为御星仙尊，掌御星之道，逍遥天地之间。", correspondingLevel4: "御星仙尊"}
                        ]},
                        {id: 312, name: "星刃诛魔诀", desc: "凝聚星刃，诛仙杀魔", detail: "星刃诛魔诀为御星流最具杀伤力的功法，引星辰之力凝聚星刃，星刃锋利无比，可诛仙杀魔，一刀可斩断星辰，修至大成，可凝聚亿万星刃，形成星刃风暴，毁天灭地。",
                        level5: [
                            {id: 3121, name: "星刃风暴诛仙帝", desc: "凝聚亿万星刃，形成风暴斩杀仙帝", detail: "你修星刃诛魔诀大成后，凝聚亿万星刃，形成星刃风暴，孤身一人前往仙界，斩杀仙界仙帝，一战成名，被尊为星刃皇，掌星刃之力，无人可挡。", correspondingLevel4: "星刃皇"},
                            {id: 3122, name: "星刃护道", desc: "以星刃之力，守护星辰之道", detail: "你修星刃诛魔诀至巅峰，以星刃之力，守护星辰之道，抵御那些妄图破坏星辰秩序的仙魔强者，最终成为星刃帝，掌星刃法则，威慑诸天，守护星辰安宁。", correspondingLevel4: "星刃帝"},
                            {id: 3123, name: "传承星刃术", desc: "广收弟子，传承星刃诛魔诀", detail: "你修星刃诛魔诀大成后，广收弟子，挑选有天赋之辈，传承星刃诛魔诀，培育出无数御星强者，最终成为星刃宗师，掌星刃修炼之道，统御天下星刃修士。", correspondingLevel4: "星刃宗师"}
                        ]},
                        {id: 313, name: "星河护体诀", desc: "引星河之力，护体防身", detail: "星河护体诀为御星流最具防御性的功法，引星河之力形成护体星河，星河所至，万物不侵，可硬抗仙魔强者攻击，修至大成，护体星河可化为星河战甲，防御无双，是御星流中最稳妥的功法。",
                        level5: [
                            {id: 3131, name: "星河战甲护苍生", desc: "化星河战甲，守护一方苍生", detail: "你修星河护体诀大成后，化身为星河战甲，守护一方苍生，抵御仙魔纷争带来的灾祸，功德无量，被尊为星河皇，掌星河护体之力，守护苍生安宁。", correspondingLevel4: "星河皇"},
                            {id: 3132, name: "星河战甲战魔主", desc: "携星河战甲，正面硬抗魔主", detail: "你修星河护体诀至巅峰，星河战甲防御无双，正面硬抗魔界魔主攻击，不落下风，守护仙界安宁，最终成为星河帝，掌星河法则，统御天下星河之力。", correspondingLevel4: "星河帝"},
                            {id: 3133, name: "隐于星河", desc: "隐于星河之中，潜心修炼护体之道", detail: "你修星河护体诀后，不恋红尘纷争，隐于诸天星河之中，潜心修炼护体之道，最终修至仙尊之境，成为星河仙翁，与星河共存，永世不灭。", correspondingLevel4: "星河仙翁"}
                        ]}
                    ],
                    星算流: [
                        {id: 321, name: "星象推演诀", desc: "推演星象，预知祸福", detail: "星象推演诀为星算流本源功法，通过观测星象，推演天道运势，预知自身与他人的祸福吉凶，修至大成，可推演天地未来，甚至能预知仙帝、魔帝的陨落之日，是星算流中最正统的功法。",
                        level5: [
                            {id: 3211, name: "推演天地未来", desc: "推演天地未来走势，规避浩劫", detail: "你修星象推演诀大成后，可推演天地未来走势，预知诸天浩劫，提前布局，规避浩劫，守护天地安宁，功德无量，被尊为星算皇，掌星象推演之力，受万仙敬仰。", correspondingLevel4: "星算皇"},
                            {id: 3212, name: "预知仙帝陨落", desc: "推演仙帝陨落之日，辅佐新帝", detail: "你修星象推演诀至巅峰，可预知仙界仙帝的陨落之日，提前辅佐有仙缘之人，助其登基为帝，维护仙界秩序，最终成为星算帝，掌星算法则，统御天下星算修士。", correspondingLevel4: "星算帝"},
                            {id: 3213, name: "隐于星台", desc: "隐于星台，推演星象，不问世事", detail: "你修星象推演诀大成后，不恋权柄，隐于诸天星台之上，潜心推演星象，不问红尘纷争，虽不涉世事，却能提前预知浩劫，暗中守护天地，最终成为星算仙翁，永世推演星象。", correspondingLevel4: "星算仙翁"}
                        ]},
                        {id: 322, name: "逆天改命诀", desc: "修改星象，逆天改命", detail: "逆天改命诀为星算流最逆天的功法，可通过修改星象轨迹，逆天改命，修改自身或他人的运势，甚至能让将死之人起死回生，是星算流中最考验道心与机缘的功法。",
                        level5: [
                            {id: 3221, name: "为苍生改命", desc: "修改天地星象，为苍生逆天改命", detail: "你修逆天改命诀大成后，恰逢诸天浩劫将至，苍生流离失所，你不惜损耗自身修为，修改天地星象，为苍生逆天改命，规避浩劫，功德昭昭，被尊为改命皇，掌逆天改命之力，受万仙万魔敬仰。", correspondingLevel4: "改命皇"},
                            {id: 3222, name: "为自身改命", desc: "修改自身星象，突破境界桎梏", detail: "你修逆天改命诀后，自身遭遇境界桎梏，无法突破，你果断修改自身星象，逆天改命，突破桎梏，最终修至帝境，成为改命帝，掌改命法则，可随意修改他人运势。", correspondingLevel4: "改命帝"},
                            {id: 3223, name: "隐于暗处改命", desc: "隐于暗处，暗中修改有缘人运势", detail: "你修逆天改命诀后，不喜张扬，隐于诸天暗处，暗中修改那些心怀善意、有仙缘之人的运势，助其摆脱困境，成就仙途，最终成为隐世改命尊，掌暗处改命之道，无人知晓你的存在。", correspondingLevel4: "隐世改命尊"}
                        ]},
                        {id: 323, name: "星算御敌诀", desc: "推演敌人轨迹，御敌于千里之外", detail: "星算御敌诀为星算流最具实用性的功法，通过推演敌人的行动轨迹，提前布局，御敌于千里之外，无需近身搏斗，便可轻松击败敌人，修至大成，可推演敌人的弱点，一击致命，是星算流中最适合实战的功法。",
                        level5: [
                            {id: 3231, name: "推演魔主轨迹，一击致命", desc: "推演魔界魔主行动轨迹，一击致命", detail: "你修星算御敌诀大成后，推演魔界魔主的行动轨迹，找到其弱点，一击致命，斩杀魔主，守护仙界安宁，被尊为星算战皇，掌星算御敌之力，无人可挡。", correspondingLevel4: "星算战皇"},
                            {id: 3232, name: "推演仙魔大战轨迹，掌控战局", detail: "你修星算御敌诀至巅峰，推演仙魔大战的轨迹，提前布局，掌控战局，助仙界击败魔族，维护天地秩序，最终成为星算战帝，掌星算御敌法则，统御天下星算实战修士。", correspondingLevel4: "星算战帝"},
                            {id: 3233, name: "游历诸天，推演御敌", desc: "游历诸天万界，推演敌人轨迹，护佑有缘人", detail: "你修星算御敌诀大成后，游历诸天万界，遇到有缘人便推演其敌人轨迹，助其御敌，护佑其平安，最终成为星算仙尊，掌星算御敌之道，逍遥天地之间。", correspondingLevel4: "星算仙尊"}
                        ]}
                    ],
                    星魂流: [
                        {id: 331, name: "星辰融魂诀", desc: "融星辰之魂，炼就星魂", detail: "星辰融魂诀为星魂流第一秘术，将诸天星辰之魂融入自身神魂，炼就不灭星魂，星魂越强，神魂与肉身强度同步提升，修至大成，可与星辰共生，永世不灭，是星魂流中最霸道的功法。",
                        level5: [
                            {id: 3311, name: "融亿万星魂，炼就不灭星魂", desc: "融合亿万星辰之魂，炼就真正的不灭星魂", detail: "你修星辰融魂诀大成后，耗时万年，融合亿万星辰之魂，炼就真正的不灭星魂，无惧任何神魂攻击，可脱离肉身独立存在，被尊为星魂皇，掌星魂之力，统御诸天星魂。", correspondingLevel4: "星魂皇"},
                            {id: 3312, name: "与星辰共生，永世不灭", desc: "与诸天星辰共生，寿元无尽，永世不灭", detail: "你修星辰融魂诀至巅峰，与诸天星辰共生，星辰不灭，你便不灭，寿元无尽，最终修至帝境，成为星魂帝，掌星魂法则，统御天下星魂修士。", correspondingLevel4: "星魂帝"},
                            {id: 3313, name: "守护星辰之魂", desc: "以不灭星魂，守护诸天星辰之魂", detail: "你修星辰融魂诀大成后，主动守护诸天星辰之魂，抵御那些妄图吞噬星辰之魂的仙魔强者，成为星辰之魂的守护神，最终成为星魂尊，掌星辰之魂守护之道，与星辰共存。", correspondingLevel4: "星魂尊"}
                        ]},
                        {id: 332, name: "星魂分身诀", desc: "以星魂之力，凝聚分身", detail: "星魂分身诀为星魂流最具灵活性的功法，以星魂之力凝聚无数分身，每个分身都拥有自身一半的力量，可独立行动、修炼，修至大成，可凝聚亿万星魂分身，遍布诸天万界，是星魂流中最适合探查与实战的功法。",
                        level5: [
                            {id: 3321, name: "亿万星魂分身，遍布诸天", desc: "凝聚亿万星魂分身，遍布诸天万界，探查情报", detail: "你修星魂分身诀大成后，凝聚亿万星魂分身，遍布诸天万界，探查所有情报，掌控诸天动态，被尊为星魂分身皇，掌星魂分身之力，无人能逃脱你的探查。", correspondingLevel4: "星魂分身皇"},
                            {id: 3322, name: "星魂分身战诸天", desc: "以星魂分身，征战诸天万界", detail: "你修星魂分身诀至巅峰，以亿万星魂分身，征战诸天万界，击败所有敌人，统御诸天，最终成为星魂分身帝，掌星魂分身法则，威慑诸天万界。", correspondingLevel4: "星魂分身帝"},
                            {id: 3323, name: "星魂分身修炼", desc: "以星魂分身，同时修炼，快速提升", detail: "你修星魂分身诀后，以亿万星魂分身同时修炼，快速提升自身修为，无需耗费过多时间，最终修至仙尊之境，成为星魂分身仙翁，掌星魂分身修炼之道，逍遥天地。", correspondingLevel4: "星魂分身仙翁"}
                        ]},
                        {id: 333, name: "星魂疗伤诀", desc: "以星魂之力，疗伤续命", detail: "星魂疗伤诀为星魂流最具辅助性的功法，以星魂之力疗伤续命，可快速修复自身与他人的神魂、肉身损伤，甚至能让神魂受损之人快速恢复，修至大成，可活死人、肉白骨，是星魂流中最具功德的功法。",
                        level5: [
                            {id: 3331, name: "星魂疗伤救万仙", desc: "以星魂之力，救治万仙，修复神魂损伤", detail: "你修星魂疗伤诀大成后，在仙魔大战中，以星魂之力救治无数受伤的仙人，修复其神魂损伤，功德无量，被尊为星魂疗伤皇，掌星魂疗伤之力，受万仙敬仰。", correspondingLevel4: "星魂疗伤皇"},
                            {id: 3332, name: "星魂续命救苍生", desc: "以星魂之力，为苍生续命，摆脱劫难", detail: "你修星魂疗伤诀至巅峰，以星魂之力，为那些遭遇劫难、寿元将尽的苍生续命，摆脱劫难，泽被苍生，最终成为星魂续命帝，掌星魂续命法则，统御天下星魂疗伤修士。", correspondingLevel4: "星魂续命帝"},
                            {id: 3333, name: "开设星魂医馆", desc: "在仙界开设星魂医馆，救治神魂受损之人", detail: "你修星魂疗伤诀大成后，在仙界开设星魂医馆，不问身份，救治所有神魂受损之人，无论是仙是魔，只要心怀善意，皆可得到你的救治，最终成为星魂医尊，掌星魂医道法则。", correspondingLevel4: "星魂医尊"}
                        ]}
                    ]
                },
                level4: {}
            },
            // 大荒神陨录（完整补充，结构一致，含剧情绑定仙途）
            大荒神陨录: {
                level2: [
                    {id: 41, name: "神兽流", desc: "召唤神兽，借兽之力", detail: "神兽流为大荒神陨录核心一脉，可召唤上古神兽，借神兽之力为自身所用，神兽越强，自身力量越强，修至大成，可召唤大荒诸神麾下神兽，统御神兽大军，是大荒神陨录中最具威慑力的修行方向。"},
                    {id: 42, name: "神血流", desc: "融合神血，炼就神体", detail: "神血流为大荒神陨录最霸道的一脉，融合上古诸神的神血，炼就无上神体，神血越纯，神体越强，修至大成，可拥有诸神之力，肉身不灭，是大荒神陨录中最考验机缘的修行方向。"},
                    {id: 43, name: "古法流", desc: "修炼古法，承神传承", detail: "古法流为大荒神陨录本源一脉，修炼上古诸神的古法秘术，承接诸神传承，修至大成，可继承诸神的部分权柄，号令大荒生灵，是大荒神陨录中最正统、最考验悟性的修行方向。"}
                ],
                level3: {
                    神兽流: [
                        {id: 411, name: "神兽召唤诀", desc: "召唤上古神兽，统御兽军", detail: "神兽召唤诀为神兽流第一秘术，可召唤上古时期大荒诸神麾下的神兽，统御神兽大军，神兽之力越强，自身修为越高，修至大成，可召唤神兽之王，威慑诸天，是神兽流中最具统御力的功法。",
                        level5: [
                            {id: 4111, name: "召唤神兽之王，统御兽军", desc: "召唤上古神兽之王，组建神兽大军，征战诸天", detail: "你修神兽召唤诀大成后，可召唤上古神兽之王，组建起一支无敌神兽大军，征战诸天，踏平仙界、魔界，统御天下神兽，被尊为神兽皇，掌神兽召唤之力，万兽皆听你差遣。", correspondingLevel4: "神兽皇"},
                            {id: 4112, name: "神兽共生，借兽证道", desc: "与神兽之王共生，借神兽之力证道", detail: "你修神兽召唤诀至巅峰，与神兽之王共生，借神兽之王的力量突破境界，证得帝道，最终成为神兽帝，掌神兽法则，统御天下神兽与神兽修士。", correspondingLevel4: "神兽帝"},
                            {id: 4113, name: "守护神兽栖息地", desc: "守护上古神兽栖息地，护佑神兽", detail: "你修神兽召唤诀大成后，放弃对外征伐，守护上古神兽的栖息地，抵御那些妄图捕捉、伤害神兽的仙魔强者，成为神兽守护神，最终成为神兽尊，掌神兽守护之道，与神兽共存。", correspondingLevel4: "神兽尊"}
                        ]},
                        {id: 412, name: "神兽合体诀", desc: "与神兽合体，融兽之力", detail: "神兽合体诀为神兽流最具爆发力的功法，可与召唤的神兽合体，融合神兽之力于自身，化身为神兽人形，力量、速度、防御大幅提升，修至大成，可与神兽之王合体，拥有毁天灭地的力量。",
                        level5: [
                            {id: 4121, name: "与神兽之王合体，战仙帝魔帝", desc: "与神兽之王合体，化身为神兽人形，正面硬抗仙帝魔帝", detail: "你修神兽合体诀大成后，与神兽之王合体，化身为神兽人形，力量远超普通帝境强者，正面硬抗仙帝、魔帝，不落下风，一战成名，被尊为合体皇，掌神兽合体之力，无人可挡。", correspondingLevel4: "合体皇"},
                            {id: 4122, name: "合体护大荒", desc: "与神兽合体，守护大荒之地", detail: "你修神兽合体诀至巅峰，与神兽合体，守护上古大荒之地，抵御仙魔入侵，守护大荒生灵安宁，最终成为合体帝，掌神兽合体法则，统御天下神兽合体修士。", correspondingLevel4: "合体帝"},
                            {id: 4123, name: "传承合体术", desc: "广收弟子，传承神兽合体诀", detail: "你修神兽合体诀大成后，广收弟子，挑选有兽缘之辈，传承神兽合体诀，培育出无数神兽合体强者，让神兽合体术得以延续，最终成为合体宗师，掌神兽合体修炼之道。", correspondingLevel4: "合体宗师"}
                        ]},
                        {id: 413, name: "神兽御敌诀", desc: "指挥神兽，御敌于千里之外", detail: "神兽御敌诀为神兽流最具实用性的功法，可指挥召唤的神兽，提前布局，御敌于千里之外，无需自身近身搏斗，便可轻松击败敌人，修至大成，可指挥亿万神兽，形成神兽风暴，毁天灭地。",
                        level5: [
                            {id: 4131, name: "指挥亿万神兽，形成风暴诛魔", desc: "指挥亿万神兽，形成神兽风暴，斩杀魔界魔主", detail: "你修神兽御敌诀大成后，指挥亿万神兽，形成神兽风暴，前往魔界，斩杀魔界魔主，守护仙界与大荒安宁，被尊为神兽战皇，掌神兽御敌之力，威慑诸天。", correspondingLevel4: "神兽战皇"},
                            {id: 4132, name: "指挥神兽，掌控战局", desc: "指挥神兽大军，掌控仙魔大战战局", detail: "你修神兽御敌诀至巅峰，指挥神兽大军，在仙魔大战中掌控战局，助仙界与大荒击败魔族，维护天地秩序，最终成为神兽战帝，掌神兽御敌法则，统御天下神兽实战修士。", correspondingLevel4: "神兽战帝"},
                            {id: 4133, name: "携神兽，游历大荒", desc: "携神兽，游历上古大荒，护佑生灵", detail: "你修神兽御敌诀大成后，携心爱的神兽，游历上古大荒，护佑大荒生灵，击败那些伤害生灵的凶兽，最终成为神兽仙翁，掌神兽御敌与守护之道，逍遥大荒之中。", correspondingLevel4: "神兽仙翁"}
                        ]}
                    ],
                    神血流: [
                        {id: 421, name: "诸神血炼诀", desc: "融合诸神血，炼就神体", detail: "诸神血炼诀为神血流第一秘术，融合上古诸神的神血，炼就无上神体，神血越纯，神体越强，修至大成，可炼就混沌神体，拥有诸神之力，肉身不灭，是神血流中最霸道的功法。",
                        level5: [
                            {id: 4211, name: "融合亿万神血，炼就混沌神体", desc: "融合亿万上古诸神的神血，炼就完美混沌神体", detail: "你修诸神血炼诀大成后，耗时万年，融合亿万上古诸神的神血，炼就完美混沌神体，肉身不灭，力量无穷，可与天地同寿，被尊为神血皇，掌神血之力，受万仙敬仰。", correspondingLevel4: "神血皇"},
                            {id: 4212, name: "借神血之力，证得帝道", desc: "借诸神血之力，突破境界，证得帝道", detail: "你修诸神血炼诀至巅峰，借诸神血之力，突破帝境桎梏，证得帝道，成为神血帝，掌神血法则，统御天下神血修士，可随意操控神血之力。", correspondingLevel4: "神血帝"},
                            {id: 4213, name: "守护神血传承", desc: "守护上古诸神血传承，不被恶人夺取", detail: "你修诸神血炼诀大成后，主动守护上古诸神的神血传承，抵御那些妄图夺取神血、为非作歹的仙魔强者，成为神血守护神，最终成为神血尊，掌神血守护之道，传承诸神血脉。", correspondingLevel4: "神血尊"}
                        ]},
                        {id: 422, name: "神血疗伤诀", desc: "以神血之力，疗伤续命", detail: "神血疗伤诀为神血流最具功德的功法，以自身融合的神血之力，疗伤续命，可快速修复自身与他人的神魂、肉身损伤，甚至能让将死之人起死回生，修至大成，可活死人、肉白骨，是神血流中最受欢迎的功法。",
                        level5: [
                            {id: 4221, name: "神血疗伤救万灵", desc: "以神血之力，救治大荒万灵，修复损伤", detail: "你修神血疗伤诀大成后，游历上古大荒，以神血之力救治无数受伤的生灵，修复其肉身与神魂损伤，泽被大荒，功德无量，被尊为神血医皇，掌神血疗伤之力，受万灵敬仰。", correspondingLevel4: "神血医皇"},
                            {id: 4222, name: "神血续命救诸神后裔", desc: "以神血之力，为诸神后裔续命，传承神脉", detail: "你修神血疗伤诀至巅峰，以神血之力，为那些寿元将尽、神脉衰弱的诸神后裔续命，传承诸神血脉，最终成为神血续命帝，掌神血续命法则，统御天下神血疗伤修士。", correspondingLevel4: "神血续命帝"},
                            {id: 4223, name: "开设神血医馆", desc: "在大荒开设神血医馆，救治有缘人", detail: "你修神血疗伤诀大成后，在大荒之地开设神血医馆，不问身份，救治所有心怀善意的有缘人，无论是人、仙还是兽，皆可得到你的救治，最终成为神血医尊，掌神血医道法则。", correspondingLevel4: "神血医尊"}
                        ]},
                        {id: 423, name: "神血攻伐诀", desc: "以神血之力，攻伐御敌", detail: "神血攻伐诀为神血流最具杀伤力的功法，以自身神血之力，凝聚神血刃、神血盾，神血之力越强，攻伐与防御能力越强，修至大成，可凝聚诸神血刃，一刀可斩断天地，是神血流中最适合实战的功法。",
                        level5: [
                            {id: 4231, name: "诸神血刃斩魔主", desc: "凝聚诸神血刃，一刀斩杀魔界魔主", detail: "你修神血攻伐诀大成后，凝聚上古诸神血刃，一刀斩杀魔界魔主，一战成名，威慑诸天，被尊为神血战皇，掌神血攻伐之力，无人可挡。", correspondingLevel4: "神血战皇"},
                            {id: 4232, name: "神血攻伐护大荒", desc: "以神血攻伐之力，守护大荒之地", detail: "你修神血攻伐诀至巅峰，以神血攻伐之力，守护上古大荒之地，抵御仙魔入侵，守护大荒生灵安宁，最终成为神血战帝，掌神血攻伐法则，统御天下神血实战修士。", correspondingLevel4: "神血战帝"},
                            {id: 4233, name: "传承神血攻伐术", desc: "广收弟子，传承神血攻伐诀", detail: "你修神血攻伐诀大成后，广收弟子，挑选有神缘之辈，传承神血攻伐诀，培育出无数神血攻伐强者，让神血攻伐术得以延续，最终成为神血宗师，掌神血攻伐修炼之道。", correspondingLevel4: "神血宗师"}
                        ]}
                    ],
                    古法流: [
                        {id: 431, name: "大荒古法诀", desc: "修炼大荒古法，承诸神传承", detail: "大荒古法诀为古法流本源功法，修炼上古大荒诸神的古法秘术，承接诸神传承，修至大成，可继承诸神的部分权柄，号令大荒生灵，是古法流中最正统的功法。",
                        level5: [
                            {id: 4311, name: "继承诸神权柄，号令大荒生灵", desc: "修至大成，继承诸神权柄，号令上古大荒所有生灵", detail: "你修大荒古法诀大成后，得到上古诸神的认可，继承诸神的部分权柄，可号令上古大荒所有生灵，统御大荒，被尊为古法皇，掌大荒古法之力，受万灵敬仰。", correspondingLevel4: "古法皇"},
                            {id: 4312, name: "传承大荒古法，培育后辈", desc: "广收弟子，传承大荒古法，培育大荒强者", detail: "你修大荒古法诀至巅峰，广收弟子，挑选有悟性之辈，传承大荒古法，培育出无数大荒强者，让大荒古法得以延续，最终成为古法帝，掌大荒古法法则，统御天下古法修士。", correspondingLevel4: "古法帝"},
                            {id: 4313, name: "隐于大荒，潜心悟道", desc: "隐于上古大荒深处，潜心修炼古法之道", detail: "你修大荒古法诀大成后，不恋权柄，隐于上古大荒深处，潜心修炼古法之道，悟透诸神传承的真谛，最终成为古法仙翁，掌大荒古法之道，与大荒共存，永世不灭。", correspondingLevel4: "古法仙翁"}
                        ]},
                        {id: 432, name: "诸神召唤诀", desc: "召唤诸神残魂，借神之力", detail: "诸神召唤诀为古法流最神秘的功法，可召唤上古诸神的残魂，借诸神残魂之力为自身所用，诸神残魂越强，自身力量越强，修至大成，可召唤诸神残魂合体，拥有毁天灭地的力量。",
                        level5: [
                            {id: 4321, name: "召唤诸神残魂，合体战帝境", desc: "召唤上古诸神残魂，合体后与仙帝魔帝大战", detail: "你修诸神召唤诀大成后，召唤上古诸神残魂，与诸神残魂合体，力量远超普通帝境强者，正面与仙帝、魔帝大战，不落下风，被尊为诸神召唤皇，掌诸神召唤之力，威慑诸天。", correspondingLevel4: "诸神召唤皇"},
                            {id: 4322, name: "借诸神残魂之力，修复大荒", desc: "借诸神残魂之力，修复上古大荒的损伤", detail: "你修诸神召唤诀至巅峰，借诸神残魂之力，修复上古大荒因仙魔大战造成的损伤，恢复大荒生机，功德无量，最终成为诸神召唤帝，掌诸神召唤法则，统御天下诸神召唤修士。", correspondingLevel4: "诸神召唤帝"},
                            {id: 4323, name: "守护诸神残魂", desc: "守护上古诸神残魂，不被恶人吞噬", detail: "你修诸神召唤诀大成后，主动守护上古诸神的残魂，抵御那些妄图吞噬诸神残魂、提升自身修为的仙魔强者，成为诸神残魂守护神，最终成为诸神召唤尊，掌诸神残魂守护之道。", correspondingLevel4: "诸神召唤尊"}
                        ]},
                        {id: 433, name: "大荒防御诀", desc: "修炼大荒防御古法，守护自身与他人", detail: "大荒防御诀为古法流最具防御性的功法，修炼上古大荒防御古法，可凝聚大荒之力形成防御屏障，屏障强度随修为提升而增强，修至大成，可凝聚大荒神盾，万物不侵，可硬抗帝境强者全力一击，是古法流中最稳妥的功法。",
                        level5: [
                            {id: 4331, name: "凝聚大荒神盾，硬抗帝击", desc: "炼就大荒神盾，硬抗仙帝魔帝全力一击", detail: "你修大荒防御诀大成后，可凝聚上古大荒神盾，神盾蕴含大荒本源之力，万物不侵，可硬抗仙帝、魔帝全力一击，守护大荒生灵与自身安全，被尊为防御皇，掌大荒防御之力，无人能破其防御。", correspondingLevel4: "防御皇"},
                            {id: 4332, name: "大荒屏障护万灵", desc: "凝聚大荒屏障，守护大荒所有生灵", detail: "你修大荒防御诀至巅峰，凝聚上古大荒屏障，将整个大荒之地笼罩其中，抵御仙魔入侵与诸天浩劫，守护大荒所有生灵安宁，功德无量，最终成为防御帝，掌大荒防御法则，统御天下防御修士。", correspondingLevel4: "防御帝"},
                            {id: 4333, name: "传承防御古法", desc: "广收弟子，传承大荒防御诀", detail: "你修大荒防御诀大成后，广收弟子，挑选有心守护大荒之辈，传承大荒防御诀，培育出无数防御强者，守护大荒安宁，最终成为防御宗师，掌大荒防御修炼之道，让防御古法得以延续。", correspondingLevel4: "防御宗师"}
                        ]}
                    ]
                },
                level4: {}
            }
        };

        // 补全script交互逻辑（承接前文，完善所有功能）
        // 全局变量定义
        let currentBook = null; // 当前选中的天书（长生诀/天魔策/星河令/大荒神陨录）
        let currentLevel2 = null; // 当前选中的二级流派
        let currentLevel3 = null; // 当前选中的三级功法
        let currentLevel4 = null; // 当前选中的四级境界
        let currentLevel5 = null; // 当前选中的五级结局

        // 获取DOM元素
        const bookBtns = document.querySelectorAll('.book-btn');
        const level2List = document.getElementById('level2-list');
        const level3List = document.getElementById('level3-list');
        const level4List = document.getElementById('level4-list');
        const level5List = document.getElementById('level5-list');
        const detailModal = document.querySelector('.detail-modal');
        const modalTitle = document.querySelector('.modal-title');
        const modalContent = document.querySelector('.modal-content');
        const cancelBtn = document.querySelector('.cancel-btn');
        const shareBtn = document.getElementById('share-btn');
        const shareModal = document.querySelector('.share-modal');
        const closeShareBtn = document.getElementById('close-share-btn');
        const resetBtn = document.getElementById('reset-btn');
        const resultContainer = document.getElementById('result-container');
        const resultContent = document.getElementById('result-content');

        // 1. 天书选择事件（长生诀/天魔策/星河令/大荒神陨录）
        bookBtns.forEach(btn => {
            btn.addEventListener('click', function() {
                // 重置所有选择状态
                resetAllSelect();
                // 切换按钮激活状态
                bookBtns.forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                // 设置当前选中天书
                currentBook = this.dataset.book;
                // 渲染二级流派（level2）
                renderLevel2();
                // 显示二级列表，隐藏后续列表
                level2List.style.display = 'flex';
                level3List.style.display = 'none';
                level4List.style.display = 'none';
                level5List.style.display = 'none';
                resultContainer.style.display = 'none';
            });
        });

        // 2. 渲染二级流派（level2）
        function renderLevel2() {
            if (!currentBook) return;
            const level2Data = bookData[currentBook].level2;
            level2List.innerHTML = '';
            level2Data.forEach(item => {
                const level2Item = document.createElement('div');
                level2Item.className = 'level-item level2-item';
                level2Item.dataset.id = item.id;
                level2Item.innerHTML = `
                    ${item.name}${item.desc}
                `;
                // 二级流派点击事件（进入三级功法）
                level2Item.addEventListener('click', function(e) {
                    if (e.target.classList.contains('detail-btn')) return;
                    // 重置后续选择
                    currentLevel3 = null;
                    currentLevel4 = null;
                    currentLevel5 = null;
                    // 切换激活状态
                    document.querySelectorAll('.level2-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    // 设置当前选中二级流派
                    currentLevel2 = item;
                    // 渲染三级功法（level3）
                    renderLevel3();
                    // 显示三级列表，隐藏后续列表
                    level3List.style.display = 'flex';
                    level4List.style.display = 'none';
                    level5List.style.display = 'none';
                    resultContainer.style.display = 'none';
                });
                // 详情按钮事件
                const detailBtn = level2Item.querySelector('.detail-btn');
                detailBtn.addEventListener('click', function() {
                    showDetailModal(item.name, item.detail);
                });
                level2List.appendChild(level2Item);
            });
        }

        // 3. 渲染三级功法（level3）
        function renderLevel3() {
            if (!currentBook || !currentLevel2) return;
            const level3Data = bookData[currentBook].level3[currentLevel2.name];
            level3List.innerHTML = '';
            level3Data.forEach(item => {
                const level3Item = document.createElement('div');
                level3Item.className = 'level-item level3-item';
                level3Item.dataset.id = item.id;
                level3Item.innerHTML = `
                    ${item.name}${item.desc}
                `;
                // 三级功法点击事件（进入五级结局，跳过四级，贴合前文逻辑）
                level3Item.addEventListener('click', function(e) {
                    if (e.target.classList.contains('detail-btn')) return;
                    // 重置后续选择
                    currentLevel4 = null;
                    currentLevel5 = null;
                    // 切换激活状态
                    document.querySelectorAll('.level3-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    // 设置当前选中三级功法
                    currentLevel3 = item;
                    // 渲染五级结局（level5）
                    renderLevel5();
                    // 显示五级列表，隐藏结果容器
                    level5List.style.display = 'flex';
                    level4List.style.display = 'none';
                    resultContainer.style.display = 'none';
                });
                // 详情按钮事件
                const detailBtn = level3Item.querySelector('.detail-btn');
                detailBtn.addEventListener('click', function() {
                    showDetailModal(item.name, item.detail);
                });
                level3List.appendChild(level3Item);
            });
        }

        // 4. 渲染五级结局（level5）
        function renderLevel5() {
            if (!currentBook || !currentLevel2 || !currentLevel3) return;
            const level5Data = currentLevel3.level5;
            level5List.innerHTML = '';
            level5Data.forEach(item => {
                const level5Item = document.createElement('div');
                level5Item.className = 'level-item level5-item';
                level5Item.dataset.id = item.id;
                level5Item.innerHTML = `
                    ${item.name}${item.desc}
                `;
                // 五级结局点击事件（显示最终结果）
                level5Item.addEventListener('click', function(e) {
                    if (e.target.classList.contains('detail-btn')) return;
                    // 切换激活状态
                    document.querySelectorAll('.level5-item').forEach(i => i.classList.remove('active'));
                    this.classList.add('active');
                    // 设置当前选中五级结局
                    currentLevel5 = item;
                    // 设置四级境界（贴合前文correspondingLevel4字段）
                    currentLevel4 = item.correspondingLevel4;
                    // 显示最终结果
                    showResult();
                });
                // 详情按钮事件
                const detailBtn = level5Item.querySelector('.detail-btn');
                detailBtn.addEventListener('click', function() {
                    showDetailModal(item.name, item.detail);
                });
                level5List.appendChild(level5Item);
            });
        }

        // 5. 显示详情弹窗
        function showDetailModal(title, content) {
            modalTitle.textContent = title;
            modalContent.textContent = content;
            detailModal.style.display = 'flex';
        }

        // 6. 关闭详情弹窗
        cancelBtn.addEventListener('click', function() {
            detailModal.style.display = 'none';
        });

        // 7. 分享功能（显示分享弹窗）
        shareBtn.addEventListener('click', function() {
            if (!currentLevel5) {
                alert('请先选择最终结局，再进行分享！');
                return;
            }
            shareModal.style.display = 'flex';
        });

        // 8. 关闭分享弹窗
        closeShareBtn.addEventListener('click', function() {
            shareModal.style.display = 'none';
        });

        // 9. 重置功能（重置所有选择和显示）
        resetBtn.addEventListener('click', resetAllSelect);

        function resetAllSelect() {
            // 重置全局变量
            currentBook = null;
            currentLevel2 = null;
            currentLevel3 = null;
            currentLevel4 = null;
            currentLevel5 = null;
            // 重置按钮激活状态
            bookBtns.forEach(b => b.classList.remove('active'));
            // 清空所有列表
            level2List.innerHTML = '';
            level3List.innerHTML = '';
            level4List.innerHTML = '';
            level5List.innerHTML = '';
            resultContent.innerHTML = '';
            // 隐藏所有列表和结果容器
            level2List.style.display = 'none';
            level3List.style.display = 'none';
            level4List.style.display = 'none';
            level5List.style.display = 'none';
            resultContainer.style.display = 'none';
            // 关闭所有弹窗
            detailModal.style.display = 'none';
            shareModal.style.display = 'none';
        }

        // 10. 显示最终修炼结果
        function showResult() {
            if (!currentBook || !currentLevel2 || !currentLevel3 || !currentLevel4 || !currentLevel5) return;
            // 拼接结果内容，贴合仙侠风格
            const resultHtml = `
                你的修炼终局修炼天书：${currentBook === '长生诀' ? '《长生诀》' : currentBook === '天魔策' ? '《天魔策》' : currentBook === '星河令' ? '《星河令》' : '《大荒神陨录》'}修行流派：${currentLevel2.name}核心功法：${currentLevel3.name}最终境界：${currentLevel4}终局剧情：${currentLevel5.detail}恭喜你，修成正果，执掌${currentLevel3.name}之道，纵横诸天万界！
            `;
            resultContent.innerHTML = resultHtml;
            resultContainer.style.display = 'block';
            // 滚动到结果区域
            resultContainer.scrollIntoView({ behavior: 'smooth' });
        }

        // 点击弹窗外部关闭弹窗
        window.addEventListener('click', function(e) {
            if (e.target === detailModal) {
                detailModal.style.display = 'none';
            }
            if (e.target === shareModal) {
                shareModal.style.display = 'none';
            }
        });

        // 补全分享功能具体实现（模拟复制链接分享）
        const copyLinkBtn = document.getElementById('copy-link-btn');
        copyLinkBtn.addEventListener('click', function() {
            // 模拟复制当前结果链接（实际项目可替换为真实链接）
            const resultLink = window.location.href + '?result=' + encodeURIComponent(JSON.stringify({
                book: currentBook,
                level2: currentLevel2.name,
                level3: currentLevel3.name,
                level4: currentLevel4,
                level5: currentLevel5.name
            }));
            // 模拟复制到剪贴板
            navigator.clipboard.writeText(resultLink).then(() => {
                alert('分享链接已复制，可发送给好友炫耀你的修炼终局！');
                shareModal.style.display = 'none';
            }).catch(err => {
                alert('复制失败，请手动复制链接：' + resultLink);
            });
        });

        // 补全响应式适配（适配移动端）
        function adaptResponsive() {
            const container = document.querySelector('.container');
            if (window.innerWidth < 768) {
                container.classList.add('mobile');
                document.querySelectorAll('.level-list').forEach(list => {
                    list.classList.remove('flex');
                    list.classList.add('block');
                });
            } else {
                container.classList.remove('mobile');
                document.querySelectorAll('.level-list').forEach(list => {
                    list.classList.add('flex');
                    list.classList.remove('block');
                });
            }
        }

        // 初始化响应式适配
        adaptResponsive();
        // 窗口大小改变时重新适配
        window.addEventListener('resize', adaptResponsive);
    </script>
</body>
</html>
